language: node_js
sudo: required
node_js:
  - '4.3'
  - '7.2'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  global:
    - MAJOR_VERSIONS=master
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - secure: 
        Wt8Fb3bnT2NR1vT2Q0FsTu9y94O9K9uys6ayCvl8J/YiLkKjYSK4ovaXOoHzxyXqVjjmoj8G9vS8GcahNU7SdD2vBS6r9/9I/Vm16lO/vjuW7eGnEmmEheZxLPgU1XgkcuFfejqtToNlTGyEpSQlcFqUk4sKAseHCrePKdu3rQGuKN7rM/GaTWBLVEvF0DQmOIKOd5n644grNB/VVBwwMB0iJR0GbmFIP/KJSTeajDfwFUEZFDqyvtzCSonANxDCeXesXFAihuJJ2uzfTGd6X0Fw5fmjP6qeMV0qCvs3opgqyoR8l5HPhcyQtLonk7h8B1gANRzw5PVIqLhYJWn/oAbh77NxWOUTlmHJ4xxj9vFL0hQcONVJd/XSbivLmtiCXMb5n3tjA25YCATpOSZmhRR26wpkaiWZC4TLp6MWMRwpi3mBv5RUudsL1ZJLgTMjy/QVa2+Tg/Lyfkmie3zYUNWLXuI6/LWrNdERByR4KhaSE5thF2UjwV+KhrDUCkOVQuLWO4zJb653qRxTKqRUASCRR++YzSWA7cr9ICDW8helAHH2YfmEjpFqC7D4Wv4ehmkeEjD1IwIMd+a9Q9sVwJzVjRA8njHgEtBfqsyoVbK/CBEbPDhZjzJ6yiuOzAQ5Mlp5M3M9jCO95bfr6cwYIAHG77Lf/9xZk1Ap0O2ZCz8=
    - secure: 
        JPDpkgI8/BEII4eoCv8h4YJYGb+YO64EvbCsUpAFB1QYddb/MrFXnEAOQqnFi9GKd3LqtW1CX40waTKyVg7tAbEoenQn2x3BVKgeDwzAytsXQaILmlxfdR/N1oBYpZevTJCkBTwec0KqZzaYwL6XTvBHE3wMERvZIAhzXH8U/cX/GO78oUA4xg5datkBi2/lx0GHAgVI8/5k3OO8UpGN4ZPQXlS/I787fW98Rusrs8uw/ph+UauI3fW+6mSVZwGHbs4E1ijud4S84bGnBv+4iWgMarmpL/oLzX/ArCy9hKA35GVPlotHZ3bPYpi+rar12iySfMGDUcCmkkAf45ZfNXhyNIXD72uIeKt41DXqp1OzI0m4M59NChy5AYzhytX49kma21i/MnLweanwywL6nGVtaq7UVeSPsp8x19Pjo69QWpgND8iKuU+6hCK08tjSA4iv/UuYvmXM3P9yya3Ppa/mU1q1C9K0WXWFSbW8rSqpHnLG76jDTbN5g5uu+TIzB65ylNb6h8izlpKWww8fzrMAIvWMp4GvnT+3/RAIwIb9nsaqefDxEVaUXvUWG8yciiDn1yQKQAN3J694o7PPloU/AAQVdbARZPvQKesodwu/aaaCel647wV4sXl8nOqpbDT66iqwDUiIwj3BAF5GOU3Xs9A+PVS/A7aDrt8Mk/E=
    - secure: 
        SZh5wpAGYIsUHhVQcWZlUsaHypUQtccnCJ0w1wJGxTryj8dozV6+HfBka7sLAWJiU+OPlejDN1JlsVZDTrwtk5Xp6OaKL1PK2LxzNyzo9vMZpD0kafAHOS6q/6dgFL1oRgcBRDs1aDEQpt6geSPvVB40ytBrXg1yPtH8rlPPhu9G2mdNVDGdd4MZ3pGZ33qaCxHzru4ogOqLIh9XrDxlokryX6zEhqFFf6tq3+zt+KC76kLvqM9e/Dp5/UDXIqJslvhhkxglr1dPBLSQzZk2oskvCiQn5Gj/mQ2GdquygyIG/nE44cTM+MIYN7BLvjjzrgG6UR+/eGiL5P3kTPGgUAuw1u/kfyzPZRTNtKeT/Vq/tsCdcTj0jF3EE5EeZCqYtuo2ui52sVuT9rf5jGNhtDc4kqxvemFHRiWTDAE1ztzldcH0aszBu73BGoqkLHp8egEkPHr0t82l6nBUs9D7Zz7PegNxPyzg/ShB4mq1462/zQybPkT9fWpxYTN4CD1ax8G39QFlaq08a5WIeiX6UWNKkIA1UoX7akRmb80T/V2YLiQdjTMrFcXTuK+8OyVLOpdYpftFjiX9xEYcSy4WfnFoYjrdd69Du47QAhHyagkllHRVGt34/51dZO0g8CCogBeQ0UC98/xY7hXsxZB7YYUX0Equt5fFjwq7Njv+4X8=
    - secure: 
        SBNLO7YgJRbjMwiUTHjtJ68QTL3dEKfl72+DURTRIb4EDfwdHH+QV/TUgP6jbZzpEv6Bb21zPg8mEZn9ixh8frTbUyFKsrW29LZQP7yfb+uJYI4x3jbQdvvCI+KSOTzK4LE8NjejWP+lKT2NSL5aSLl4FKewMxlmnKIe5c0kzmVufLsiI2F3PHvfMkRGGsSTtvoxBD7kQQ3M6HIu0qg0ys2tiZhwvsJNdSUbyYv3+mWd7Q7XGVlGtfL9Ll4snmHCS4B36QJOAOZ10eFaAg9Gxe8Tm0NUm6xF+4nnW5/q5BkYyfSJ92sDrT5WbhYoLVy3RwV7xUY8FuoKPIMWnTYuwf4BEcjxrLNQtg3cvc/EWNwdjRwzxtxDapcVNCbN0uvKqF7K8O/umfD0E1XLPfYeS9h/u7Vn1KiZWAdzq0aS+eTR4X5bQiKZMLQoaMgA7u5RBeF7QIaICgm/6kxN1r6W/ML9OzcLZrWKXvbiV+0FovrAPAOS1UwJK7U8O9j+3ZeRmms9J5HRLLv9nVUH8sQ5m9vIR6tfljQINtU2BAHX/mjSX6b1hi6mTp9kBlMCuAaAvvBQrjwnHSw1DNj31n2xScN5/g/sQklM/+Sr+f1Z5cctsfqbDcrKNwqUigUBpYiZHY5hUIZRaVSTHAW0V4Rzfw81cHDpN6M+aWUDLcKibdg=
    - secure: 
        j6pXsGo5tr4PocpueDMyhL03cK+RU8OyIAD+5/iPBqhgZCcTeoDH+sRVMXopm3OHGXgGR10YA2oMzMa3EcyKXoIrykrSePl6mgWVk6Fb4cpM1dEPv1RCmu1yWCbELMMsRtWTxiYR8K4bUdjJADlUwDsB75jueV0FldwDc3/2K9jpugN0eD8MxdVLv74O4FbAxdUuYxj8fX14TT+GgkrGlafGF/dneROnAokTjtSjrB1ieO2eFSPHVc0jx355lH1dEFagyukXW46eYqSF9L/91WJwW1ZnHwYiZd0ISMv2Q8ErYus4v6wlepbDsBZkPb7un6osyfRf2f0fxt+EaQF5gvXVN8UOkFONPGBhRv1W9ILCq6rGuFwW+8v1kEjI/eys+DSzH7j1Bi547O3g2W1woBnYH0K3q3kb2v/Uj9J/BccqDEQi4E0YAw4R2Zhoo0u4FNgVTRdQLHrSzonazaGIgLwp23Wqf9gkgRYG8e8Ae7S8sS81Ar2KsG6/ineOIAxTi8bcb3fIkX9ItgaCF0hXXTTvHc+hFh17U58nPwYZ5oEXs7bS/O0pUfB7fKO9mZPXaAbdypAuiI5HaXGjNhs9qCalTOslEe+l7QopLgMePrBxs2LYoGuaKmvUyxdvqu4OFINBqDELr61mfXc9Y99/KBHzOB64YMA3Lw4LyqvKlyM=
    - secure: 
        T5AdcKcAOzdvrp5QFyFSb190FJrwt00GydBICqurnQWX4EDSokv5EH4HkNdCIjb0keTo8zc4ESNYY7L93eVKZq9cFIkxzvKXcCsJScbjCpLa3RP8FFnID3bcaDSLOP7i9EiafgumtCitCUOBuwJJMoyFHIYcMoL0lyveVwH2x1v3m8RC5jQ6LtHxbDe/rdem1YFaLHuDni9jySOgE01lrZ6iXpnkAB5o3TFKdEnWh0S25EtIScc9wc2j+yM8gpPm46AMrjYIR2lPhEDtlN9ciZR1/saytkeMQJ66i1Wqb8PRRTCQ+gKm60t5JW0sKFzvCn/VnJO3nMEu3G/A5aei/1f2DEgBDZpyJy13hRw7ztIW6Q0mSM8UWfmACaoRnSY22ADlMt50Gn/Sf9Je9pyReuoKd6ZLhbJhscvpSWix7sSSuWHsglZCp33BinhkB2zhFnp1rSFdrY8XUbTleBGGLj+KVmbeKO8VYa3hV8VTQSvgVo/tk5Q5mbVmOEYYb0hSPW6WgXltHwPTGMy57MT1BgA3rDUdhlchu6uK0+c7ddmga56XLT/IQCE2s9c6CLLWbsaZTL4owjwFWjiGfL1WxwFLCAa7JUi4Hjo56BhISQD4XCEHFnnJQKfudoqia18q70nMefDvaDXpRvOXrVTv+uV6e6xryOd5scipK9BSOC4=
    - secure: 
        KZNu+NqTv9xkRSEpR1HNH2COpxty8+PmzdSePmXnN1S9bYjA0IbfF6opaocPqqCUvDyVDFzVYYeyYMJ95/mTok4Ga9TGcAmA9447ytNSUfpT73BWkzzJbOdEk9y2EOxjy3oTfjnr/zaBL7JPbGUUum8sCJe/APCSdnV9piQ1+shE7TIO2x/+CCrFk9M6ing0qD8y0bdl6Qg9aXtHSbKYvy0b7TIerT4BdKvyxNLU76j5ZPrA9LBQ9OLpLuq+ZyTzLPhzrKBHrFKsIiQctAp2q5BIH+8dbgMnwBvenvMYll98SdeugX8tBF6wDJ/40ZmFl792Q8OQqLhQt0wrQfjngXknkjEfZVcMIYJJhvjivQ3KC3esRO1SWSUQn0CuPFnELsJ7C+vlVdAjyDxdLfWDTGQAjXrW8IRFvN1HmgVteG7rqF8p3LCNpVA7cUeAIbF5mIL8+I4rArBp/uKNXVbcvdWDJPrBpWpsB6aojwitdbasXB8YU2DYOvriKYbBfw1h8lfZT95DhGdVkCgxxpTmCSj1+Cbxv2pyR01in18EPkQcOmsWoQwK4XYCI1egF/WgZwF2Wy1LH3JcMZmEazXAhiE73UR8GBmYGx54QLRhXvyS9/T+Mvlijl92kwRYtFSoCqjOAoQ7ZoImNH6ntkBgNCE5BWn+xfMNXSDyv8kzhnI=
    - secure: 
        eJugVdzhDg7VOuXV/0c/HE/4nY1daEYeRwp7lZ8eGLbj3QgFkY8nnfEPT4goNANioXcSalCMQGRijIV10oWC1oevWOT6PN01qO3liUkQNBOXW7TShEwD3V6HDOzQcA/nXyLvVNIdxpj+EkfSTC7Xl52ZwYzrGPXJcIJCEv/ywibgqgHgTF+zNaye7du11MSKjBIsxC/CrRNnYYTn3LnyLM0U11+MGGQDgU1TbPP4G4R60bhoOpyq4TeqKTI8QC3cGLuZA0/Dkx9gLcs/vYa9kquoS/FCsERnlJBE3lMdmZqZau1dyNKj0OWkcFthLPP4S2joC+xGq8d0fS0JRlSFOfG9NFx03we+z87l7WHxyRnvucOynRpyWTf8+UjnKc4jENDNr7Bs/xqKqP/2kuKEfCKZ0iDEInZWv7Xxa9oTl8Y1tdgcvAi891dDqszQ7U1p4b05nsjjXZ0fquciagD9S0dR4WjGiDtZ8e9Bn/Xv3rU9v0zB5TKIsqaIVNR/570/Yl4uJ+++D45yfFoQM+HCx0cQ+frznLOrcv2bBE2SlzZYKN+6pvT0FIs4dKGTqof9GTX3VW0UENZRzsplkTp5i5o5Cp2rH9wXdY+C3vywMBN9wVD7Fyb2dQpIBIL7A8ez48U0y1e+j8vkAQOIpBIIoX+NmtsYBhO/uvKS79DLR7E=
    - secure: 
        cZPTdt2Uw/1cc7TqN7+0f2OiAhBu4A/TtlsWzAhWwwSusKd6uBxKdJNzSTYIu0GkXa2YT/qPtRsDYl7y1lNxr6M5PLBAatPFMFYtRXOpX2D6MnBOgtetUF3/oC6iabl5H9jjW8sC5+St+lmGKl5nkuQueo7oifkPSS6FrDRYsDkjx55ikJPanHRL8Ay0ZCOTKV3QDokr34RMwNc1rF8aD5x3P4kDuHTzNi73swIHJimWlCdvoc1WXvPt0u8t0CDoFuwwIUrj6Dg6V+QZvKb3DBsW6mtaoMCnX2T8cxCkD2yZ3dj77JSGTY6CLsLxxdARiqTdFZDQkYa5/KtqFPCYVc7Jp7NG2U6uHumnVwaOUFaT+RMshxxhnx1r1cruLiADo7VBJ8oSrfdnVEkSsrKfxPeiK9h2usA5YFyI5vhiHJk1VZCMfvucXhVywqxS5bGtcO8IxY2P6seIdv1mq/Uj4t2TApdqueWcZ0pa/ict6E1q2PN5h/EUf26ZUcgQE9s71xAkcDCBMBPulN9mM5Z4lojBoxvG3F5EGWC2f+DEt3ZcwMzshxlxF2GX0Gdu5iE9kVcMBh2kogExA06+tgyPgimm+LsPxAbivpQbG2B9e0xMCXhGlsyQtdI8wO5NAMjNc0mah/p25EVm46rowWqa7pqY/X3hMUK6NTSEqhm7q74=
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
notifications:
  slack:
    secure: 
      nHDk/C3hKt6IyPA8Hi2yqfwwRJw79cCBdfOJpZDHYH8cw7YgU2f/JBToxMuu+SI8OCBfnsghotoUuMm5sHoyJN+AZGuxbDM/N3hcGAUcCWtZ1Is6v/6JHrZB2xze8VkS6U5r0vJkFHH4iQLUD1M6BeZiMNI5rFl5D+ToltqciQ13qjgOPu40DybOo/Kp7WwqbG6ubvQu9QoYEpjxDGKbjH+N1OZ3tHlAim9QZVALuHb/jjHink8KSBp6tvZ7rWK5sLPmNg8dPqB/+owhzU0yZTEVhyghukS3znsH3dGkYxd6MOz2OXJMPG4Wars3g1sh3dG418LLS5N58jdKJvDPf/EtK1cssQxIP6gPoD87PgIhEY4moUsnGCe7ivj3J3BJqekhmFWI13vojXfCQJdB0R6BuNKXedsxyumpcuA+xLGxO7LqR4XWC/xDAXLdxvFUAn3hOw+aXahe8zGxAvER2INOz1VWOMl+6XWVvtjvpEtC5Ezct3vbuOxJ6kZuTK58w4Q9EYpFYnrXBNzdzDSyth2z61BYQ1o+C8fABUNqDDsgO1MqGj1ziqSjg3al1jcbxVC0zYD+v00LISXfyuCPNQMbYpqCSjUAJeG9IYDcrRPjrZZ6BV0QoeQjYf6Wjic4jI0jaikWJotPWYdsPhVebqYnsbPksjor/DlNn9/gan4=
