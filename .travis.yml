language: node_js
sudo: false
node_js:
  - '0.12'

cache:
  directories:
    - "$(npm root -g)"

branches:
  only:
    - master
    - dev
    - test
    - stage
    - unit-testing
before_install:
 - npm install -g jspm
  - jspm config registries.github.auth $JSPM_GITHUB_AUTH_TOKEN
  - npm install -g babel@5.8.19
  - npm install -g browserify@11.2.0
  - npm install -g jscs@2.1.1
  - npm install -g mocha@2.3.3
  - npm install -g mocha-babel@3.0.0
  - npm install -g codacy-coverage@1.1.3
  - npm install -g chai@3.3.0
  - npm install -g jasmine-core@2.3.4
  - npm install -g istanbul@0.3.21
  - npm install -g istanbul-combine@0.3.0
  - npm install -g phantomjs@1.9.18
  - npm install -g karma@0.13.11
  - npm install -g karma-jspm@2.0.1
  - npm install -g karma-jasmine@0.3.6
  - npm install -g karma-babel-preprocessor@5.2.2
  - npm install -g karma-coverage@douglasduteil/karma-coverage#next
  - npm install -g karma-verbose-reporter@0.0.3
  - npm install -g karma-phantomjs-launcher@0.2.1
  - npm install -g karma-ng-html2js-preprocessor@0.2.0
  - cp test/package.json .

after_success:
  - npm run coverage
