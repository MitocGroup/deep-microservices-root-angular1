language: node_js
sudo: required
node_js:
  - '4.3'
  - '6.10'
  - '7.7'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  global:
    - MAJOR_VERSIONS=master
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - secure: 
        Wt8Fb3bnT2NR1vT2Q0FsTu9y94O9K9uys6ayCvl8J/YiLkKjYSK4ovaXOoHzxyXqVjjmoj8G9vS8GcahNU7SdD2vBS6r9/9I/Vm16lO/vjuW7eGnEmmEheZxLPgU1XgkcuFfejqtToNlTGyEpSQlcFqUk4sKAseHCrePKdu3rQGuKN7rM/GaTWBLVEvF0DQmOIKOd5n644grNB/VVBwwMB0iJR0GbmFIP/KJSTeajDfwFUEZFDqyvtzCSonANxDCeXesXFAihuJJ2uzfTGd6X0Fw5fmjP6qeMV0qCvs3opgqyoR8l5HPhcyQtLonk7h8B1gANRzw5PVIqLhYJWn/oAbh77NxWOUTlmHJ4xxj9vFL0hQcONVJd/XSbivLmtiCXMb5n3tjA25YCATpOSZmhRR26wpkaiWZC4TLp6MWMRwpi3mBv5RUudsL1ZJLgTMjy/QVa2+Tg/Lyfkmie3zYUNWLXuI6/LWrNdERByR4KhaSE5thF2UjwV+KhrDUCkOVQuLWO4zJb653qRxTKqRUASCRR++YzSWA7cr9ICDW8helAHH2YfmEjpFqC7D4Wv4ehmkeEjD1IwIMd+a9Q9sVwJzVjRA8njHgEtBfqsyoVbK/CBEbPDhZjzJ6yiuOzAQ5Mlp5M3M9jCO95bfr6cwYIAHG77Lf/9xZk1Ap0O2ZCz8=
    - secure: 
        SZh5wpAGYIsUHhVQcWZlUsaHypUQtccnCJ0w1wJGxTryj8dozV6+HfBka7sLAWJiU+OPlejDN1JlsVZDTrwtk5Xp6OaKL1PK2LxzNyzo9vMZpD0kafAHOS6q/6dgFL1oRgcBRDs1aDEQpt6geSPvVB40ytBrXg1yPtH8rlPPhu9G2mdNVDGdd4MZ3pGZ33qaCxHzru4ogOqLIh9XrDxlokryX6zEhqFFf6tq3+zt+KC76kLvqM9e/Dp5/UDXIqJslvhhkxglr1dPBLSQzZk2oskvCiQn5Gj/mQ2GdquygyIG/nE44cTM+MIYN7BLvjjzrgG6UR+/eGiL5P3kTPGgUAuw1u/kfyzPZRTNtKeT/Vq/tsCdcTj0jF3EE5EeZCqYtuo2ui52sVuT9rf5jGNhtDc4kqxvemFHRiWTDAE1ztzldcH0aszBu73BGoqkLHp8egEkPHr0t82l6nBUs9D7Zz7PegNxPyzg/ShB4mq1462/zQybPkT9fWpxYTN4CD1ax8G39QFlaq08a5WIeiX6UWNKkIA1UoX7akRmb80T/V2YLiQdjTMrFcXTuK+8OyVLOpdYpftFjiX9xEYcSy4WfnFoYjrdd69Du47QAhHyagkllHRVGt34/51dZO0g8CCogBeQ0UC98/xY7hXsxZB7YYUX0Equt5fFjwq7Njv+4X8=
    - secure: 
        eJugVdzhDg7VOuXV/0c/HE/4nY1daEYeRwp7lZ8eGLbj3QgFkY8nnfEPT4goNANioXcSalCMQGRijIV10oWC1oevWOT6PN01qO3liUkQNBOXW7TShEwD3V6HDOzQcA/nXyLvVNIdxpj+EkfSTC7Xl52ZwYzrGPXJcIJCEv/ywibgqgHgTF+zNaye7du11MSKjBIsxC/CrRNnYYTn3LnyLM0U11+MGGQDgU1TbPP4G4R60bhoOpyq4TeqKTI8QC3cGLuZA0/Dkx9gLcs/vYa9kquoS/FCsERnlJBE3lMdmZqZau1dyNKj0OWkcFthLPP4S2joC+xGq8d0fS0JRlSFOfG9NFx03we+z87l7WHxyRnvucOynRpyWTf8+UjnKc4jENDNr7Bs/xqKqP/2kuKEfCKZ0iDEInZWv7Xxa9oTl8Y1tdgcvAi891dDqszQ7U1p4b05nsjjXZ0fquciagD9S0dR4WjGiDtZ8e9Bn/Xv3rU9v0zB5TKIsqaIVNR/570/Yl4uJ+++D45yfFoQM+HCx0cQ+frznLOrcv2bBE2SlzZYKN+6pvT0FIs4dKGTqof9GTX3VW0UENZRzsplkTp5i5o5Cp2rH9wXdY+C3vywMBN9wVD7Fyb2dQpIBIL7A8ez48U0y1e+j8vkAQOIpBIIoX+NmtsYBhO/uvKS79DLR7E=
    - secure: 
        cZPTdt2Uw/1cc7TqN7+0f2OiAhBu4A/TtlsWzAhWwwSusKd6uBxKdJNzSTYIu0GkXa2YT/qPtRsDYl7y1lNxr6M5PLBAatPFMFYtRXOpX2D6MnBOgtetUF3/oC6iabl5H9jjW8sC5+St+lmGKl5nkuQueo7oifkPSS6FrDRYsDkjx55ikJPanHRL8Ay0ZCOTKV3QDokr34RMwNc1rF8aD5x3P4kDuHTzNi73swIHJimWlCdvoc1WXvPt0u8t0CDoFuwwIUrj6Dg6V+QZvKb3DBsW6mtaoMCnX2T8cxCkD2yZ3dj77JSGTY6CLsLxxdARiqTdFZDQkYa5/KtqFPCYVc7Jp7NG2U6uHumnVwaOUFaT+RMshxxhnx1r1cruLiADo7VBJ8oSrfdnVEkSsrKfxPeiK9h2usA5YFyI5vhiHJk1VZCMfvucXhVywqxS5bGtcO8IxY2P6seIdv1mq/Uj4t2TApdqueWcZ0pa/ict6E1q2PN5h/EUf26ZUcgQE9s71xAkcDCBMBPulN9mM5Z4lojBoxvG3F5EGWC2f+DEt3ZcwMzshxlxF2GX0Gdu5iE9kVcMBh2kogExA06+tgyPgimm+LsPxAbivpQbG2B9e0xMCXhGlsyQtdI8wO5NAMjNc0mah/p25EVm46rowWqa7pqY/X3hMUK6NTSEqhm7q74=
    - secure: 
        jn9QIe7Q/EOrXttNRHfFoGYFBpAcK3u7QgYp+3s4AYYOvKouSEsK/yuvFHHZBxfpOXMPTTFn6/KvRXki/5f59uJnfXYgWjVc6XhPPS3FuA73QnzsV6dFGD96gEK8/ZKja9K1zZuFV2KSCZzV2G1v8te2H3+Db2aaH8Ix8Jbnq+JCDRDon5RE5Ua9Ye8tBGyzc8gSzQpbm+k9hq5TUPnsV0+AzaQhlxzwbzDaB09ANFYMWwek7RtaEnf5dOf3CXvwGMJNdL8C98MeR3h+d2poQ/rBgzJL1Lc4ZQhxl0/TxN7eDhetCXqk9dnPhK5Vd75rDfNbtMidsp3pEhc3cbkUwOEUvIfCHTP4F/+5UnAPpS5SHfa1raD0p4N1IzRujSv+USNhgbmFyK6N5lt54RlInqVtty7OP3ubBdnkXvl2inp4v6b+hd6nOwH0z1iXhXhEUTn5DBCUYSTA3A+yzax6DHqketbay1ySCOaqHbEdj4JRNmF3QOV+Su+1qPu6w60d8go+C1rUmbnsYZntBYgIbcU1hRfqHV5Zj1l1X1MI6ED6rBdUL7KJNTTJXGfiiryzqa4yHFLjuy3n4h8MoZ9kwdY6JH+E+RBvOsnWGQlxEKBPvD8pDuS0H7i+ZYmZpZDJCvMQ7qPCQoy0PHF6bhTVHdlp3PJVjxd+bx+GXq0C+Ts=
    - secure: 
        g7HMHK7p/224hzlgIZgeKUq8flEj4ta3duVoQK8X8BD1kc7uew3Q9PE8d5WoXXvPYMOtq3cSbtXWdkwSAJgMr24+KaCPnZpBksHPguE0BniPw186nob4+PNrF338r5a/TjYSOlqszXDF5bapDg+DbitPNybgwC+uZdTg+Kc6ZvNaErH+MhWPdmZp5gjA7jDCe/sKUudeiWlCBE9z+W8qV7gbjf8zRlwqVYwngdi85EtUVs8YG1UKeBv/dfdxDwMH3cL6+HhbyFbZBKLxXe+1AK4aMGlLRySpx16N5yIVcTTDiOUuHZcmo/jOUMoxCJb/M07hPVN0f5eO5kLvkGgIL9+kaoh067oJUE7qsboFW0FnkUQ2yAosCAk0RNZIKVrmzjqNUstW8qIsYeR6K7KZhjN3pz4+5PzXhINFTdxZFTcFL1FdeJdhxXxegiWZIlalmeAAxsYCpy+2Y9RemQ59N4v2NRoRJrIzNSWkz3pUWtzujMmd87M8O1ye63BKRJpfrrqRX7pb8SI1XmL+yzApjA9sj4i2GVKm7Fnio6z/xXB/93eH9/UfWeWRKo5lZMkE5DEx92i/upnP+FtP0C3FtjWUDbNAXfSwPGjw3B2QjNiIBZTc0g5Ok1JMDDGPG3tTsUPS7FF1BGSoBcKkz6cFU5HEswqdn6X4odXNbI5pMn4=
    - secure: 
        HZ6oNYHuy9X8pVLQjsgeJwjMq9cD5c9SvYedbFVL9KIfhpp6lv7zfEO7pXzPzD+Q74BrXdk7P524l4iiwv6oHByd7knpk5H+e0Xos6le3useqrBUzQLZOgiHPJM+WKj0uMckEjMgrA0WWGAjUJrBoI2Oi1/oxYUhFARzpJlriH4hODPK+bHLVjX8ekc7ws7ltHTHWOkgaFbc2AD93QODOOFCRL4zE4KrIFvQxWnYmvKmsOJAfwA/TqW7K+tO/uLtEHlavLfQsxROlM3lE7DxIlldwG+9FqUpZH7x1CgtJT5MO+fJKoQatTe72UXiq0s5kXupOGKYw/dcWrBt46NLtPfDzsUTXOTF0iUxTQ3VzhWCBo+6kD/F/DFLjPtJgMUjSpGIaviLhqPWLZce+EovutcinheM7zTfiA+GESDZC/Z6nkplJXTc6lLrsKgaB5orH3Fk9wQJ8POgE0ZVbtDQglwjR+jPmKbM7BU16FePwK95hlHQpemTy2EwXJKNswYtgzC+kafy0pGWWXGKhANktLOTzIGCLlIVVmlrW9yTUy2sOuyiH10X5aXORkq09ZP/GvgX9BY0k+7FjnCVfGCwPv9PrNN+WVUtwLInAm5a0y6pCs2jRK1VDfCVxfj/kvGK0dJd2g5ySz2l+4iETs/NY6TjN1qinQoyKNI7LCSM3b0=
    - secure: 
        VTQqbjLK1891dIe3C+9lbMuGZ5utBN/RL0yw12Ly6MUQvMaehNe0XZ4Sd6F3+dqGYAJ1nJjM9W3HDx8p4OCFkrADqAYRBWjMypyJr2wQyGoLG+c7i5HxYP4nKSlb3SASL6dx1sjequh1jOsA3MG0YB/d3c5BnWu8UIteOUw2oKWUTfUzpAUOhamV2XHiNsHq3PyzRqBuB6CK8B01B1c3RNOywnnFb7oC4GPyWjf5Xwr/bclm6/a4rp3r9fIKjSs1dRozyXpJf+5UtuLrn+pPeyc/eXQaHgHxCaC7LFhjkFVlYtY7ybph9iOCh3ysQ/C/VXHHKSq+kpwuH+PXxBugLj+WI5T518lqaImykOfSijR/8/gkK+sNHnLtR2MNWNvmBy6LEEqAZpY1RNYFFOJOg5vB3jbbt5+dIFuX0lDOdIXnYVJxg4urVRpxNDmpCF92KG5yYIYD4jpi3UuaIcUj6ec/XheFpIGXzGeShTZKnpGVTdVoLLAVcMazU/6JjpUrNdKh7sYWQoQA1/FkhXbFg+Rb3+QoWEqrNLH7biIZVMvmv4bmXgpey8jU6HlBL2biAEQciSl1ia+RaeNfpSfhlb/t3b5VEzI8FjNROtjMeSZE12sMCdCSL7bHz0kOdUAtwoJx/X/EReZsH949Eurf1HJ0wVMwjnF6m+VG9cr25LY=
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
notifications:
  slack:
    secure: 
      nHDk/C3hKt6IyPA8Hi2yqfwwRJw79cCBdfOJpZDHYH8cw7YgU2f/JBToxMuu+SI8OCBfnsghotoUuMm5sHoyJN+AZGuxbDM/N3hcGAUcCWtZ1Is6v/6JHrZB2xze8VkS6U5r0vJkFHH4iQLUD1M6BeZiMNI5rFl5D+ToltqciQ13qjgOPu40DybOo/Kp7WwqbG6ubvQu9QoYEpjxDGKbjH+N1OZ3tHlAim9QZVALuHb/jjHink8KSBp6tvZ7rWK5sLPmNg8dPqB/+owhzU0yZTEVhyghukS3znsH3dGkYxd6MOz2OXJMPG4Wars3g1sh3dG418LLS5N58jdKJvDPf/EtK1cssQxIP6gPoD87PgIhEY4moUsnGCe7ivj3J3BJqekhmFWI13vojXfCQJdB0R6BuNKXedsxyumpcuA+xLGxO7LqR4XWC/xDAXLdxvFUAn3hOw+aXahe8zGxAvER2INOz1VWOMl+6XWVvtjvpEtC5Ezct3vbuOxJ6kZuTK58w4Q9EYpFYnrXBNzdzDSyth2z61BYQ1o+C8fABUNqDDsgO1MqGj1ziqSjg3al1jcbxVC0zYD+v00LISXfyuCPNQMbYpqCSjUAJeG9IYDcrRPjrZZ6BV0QoeQjYf6Wjic4jI0jaikWJotPWYdsPhVebqYnsbPksjor/DlNn9/gan4=
